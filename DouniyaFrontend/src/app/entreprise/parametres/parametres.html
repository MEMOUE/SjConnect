<div class="parametres-container">
  <div class="header">
    <h1>âš™ï¸ ParamÃ¨tres</h1>
    <p class="subtitle">Configuration et gestion de votre compte entreprise</p>
  </div>

  <div class="settings-layout">
    <!-- Sidebar Navigation -->
    <div class="settings-sidebar">
      <button
        class="sidebar-item"
        [class.active]="activeSection === 'company'"
        (click)="setActiveSection('company')">
        <span class="item-icon">ğŸ¢</span>
        <span class="item-text">Entreprise</span>
      </button>
      <button
        class="sidebar-item"
        [class.active]="activeSection === 'profile'"
        (click)="setActiveSection('profile')">
        <span class="item-icon">ğŸ‘¤</span>
        <span class="item-text">Profil</span>
      </button>
      <button
        class="sidebar-item"
        [class.active]="activeSection === 'notifications'"
        (click)="setActiveSection('notifications')">
        <span class="item-icon">ğŸ””</span>
        <span class="item-text">Notifications</span>
      </button>
      <button
        class="sidebar-item"
        [class.active]="activeSection === 'security'"
        (click)="setActiveSection('security')">
        <span class="item-icon">ğŸ”’</span>
        <span class="item-text">SÃ©curitÃ©</span>
      </button>
      <button
        class="sidebar-item"
        [class.active]="activeSection === 'appearance'"
        (click)="setActiveSection('appearance')">
        <span class="item-icon">ğŸ¨</span>
        <span class="item-text">Apparence</span>
      </button>
      <button
        class="sidebar-item"
        [class.active]="activeSection === 'integrations'"
        (click)="setActiveSection('integrations')">
        <span class="item-icon">ğŸ”Œ</span>
        <span class="item-text">IntÃ©grations</span>
      </button>
      <button
        class="sidebar-item"
        [class.active]="activeSection === 'api'"
        (click)="setActiveSection('api')">
        <span class="item-icon">ğŸ”‘</span>
        <span class="item-text">API</span>
      </button>
    </div>

    <!-- Settings Content -->
    <div class="settings-content">
      <!-- Company Section -->
      <div class="settings-section" *ngIf="activeSection === 'company'">
        <h2 class="section-title">Informations de l'entreprise</h2>
        <div class="form-grid">
          <div class="form-group full-width">
            <label class="form-label">Nom de l'entreprise</label>
            <input type="text" [(ngModel)]="companyInfo.name" class="form-input">
          </div>
          <div class="form-group">
            <label class="form-label">Email</label>
            <input type="email" [(ngModel)]="companyInfo.email" class="form-input">
          </div>
          <div class="form-group">
            <label class="form-label">TÃ©lÃ©phone</label>
            <input type="tel" [(ngModel)]="companyInfo.phone" class="form-input">
          </div>
          <div class="form-group full-width">
            <label class="form-label">Adresse</label>
            <input type="text" [(ngModel)]="companyInfo.address" class="form-input">
          </div>
          <div class="form-group">
            <label class="form-label">Ville</label>
            <input type="text" [(ngModel)]="companyInfo.city" class="form-input">
          </div>
          <div class="form-group">
            <label class="form-label">Code postal</label>
            <input type="text" [(ngModel)]="companyInfo.zipCode" class="form-input">
          </div>
          <div class="form-group">
            <label class="form-label">SIRET</label>
            <input type="text" [(ngModel)]="companyInfo.siret" class="form-input">
          </div>
          <div class="form-group">
            <label class="form-label">NÂ° TVA</label>
            <input type="text" [(ngModel)]="companyInfo.tva" class="form-input">
          </div>
        </div>
        <div class="form-actions">
          <button class="btn-secondary" (click)="uploadLogo()">ğŸ“· Modifier le logo</button>
          <button class="btn-primary" (click)="saveCompanyInfo()">ğŸ’¾ Sauvegarder</button>
        </div>
      </div>

      <!-- Profile Section -->
      <div class="settings-section" *ngIf="activeSection === 'profile'">
        <h2 class="section-title">Profil utilisateur</h2>
        <div class="profile-header">
          <div class="avatar-large">{{ userProfile.avatar }}</div>
          <button class="btn-secondary">Changer l'avatar</button>
        </div>
        <div class="form-grid">
          <div class="form-group">
            <label class="form-label">PrÃ©nom</label>
            <input type="text" [(ngModel)]="userProfile.firstName" class="form-input">
          </div>
          <div class="form-group">
            <label class="form-label">Nom</label>
            <input type="text" [(ngModel)]="userProfile.lastName" class="form-input">
          </div>
          <div class="form-group">
            <label class="form-label">Email</label>
            <input type="email" [(ngModel)]="userProfile.email" class="form-input">
          </div>
          <div class="form-group">
            <label class="form-label">TÃ©lÃ©phone</label>
            <input type="tel" [(ngModel)]="userProfile.phone" class="form-input">
          </div>
          <div class="form-group full-width">
            <label class="form-label">RÃ´le</label>
            <select [(ngModel)]="userProfile.role" class="form-select">
              <option value="Administrateur">Administrateur</option>
              <option value="Manager">Manager</option>
              <option value="Utilisateur">Utilisateur</option>
            </select>
          </div>
        </div>
        <div class="form-actions">
          <button class="btn-secondary" (click)="changePassword()">ğŸ”’ Changer le mot de passe</button>
          <button class="btn-primary" (click)="saveUserProfile()">ğŸ’¾ Sauvegarder</button>
        </div>
      </div>

      <!-- Notifications Section -->
      <div class="settings-section" *ngIf="activeSection === 'notifications'">
        <h2 class="section-title">PrÃ©fÃ©rences de notification</h2>
        <div class="toggle-list">
          <div class="toggle-item">
            <div class="toggle-info">
              <h4>Notifications par email</h4>
              <p>Recevoir des notifications par email</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" [(ngModel)]="notificationSettings.emailNotifications">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="toggle-item">
            <div class="toggle-info">
              <h4>Notifications SMS</h4>
              <p>Recevoir des alertes par SMS</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" [(ngModel)]="notificationSettings.smsNotifications">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="toggle-item">
            <div class="toggle-info">
              <h4>Mises Ã  jour des commandes</h4>
              <p>Notifications sur l'Ã©tat des commandes</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" [(ngModel)]="notificationSettings.orderUpdates">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="toggle-item">
            <div class="toggle-info">
              <h4>Promotions</h4>
              <p>Recevoir les offres promotionnelles</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" [(ngModel)]="notificationSettings.promotions">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="toggle-item">
            <div class="toggle-info">
              <h4>Newsletter</h4>
              <p>Recevoir la newsletter hebdomadaire</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" [(ngModel)]="notificationSettings.newsletter">
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
        <div class="form-actions">
          <button class="btn-primary" (click)="saveNotifications()">ğŸ’¾ Sauvegarder</button>
        </div>
      </div>

      <!-- Security Section -->
      <div class="settings-section" *ngIf="activeSection === 'security'">
        <h2 class="section-title">SÃ©curitÃ©</h2>
        <div class="toggle-list">
          <div class="toggle-item">
            <div class="toggle-info">
              <h4>Authentification Ã  deux facteurs</h4>
              <p>Ajouter une couche de sÃ©curitÃ© supplÃ©mentaire</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" [(ngModel)]="securitySettings.twoFactorAuth">
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
        <div class="form-grid">
          <div class="form-group">
            <label class="form-label">DÃ©lai d'expiration de session (minutes)</label>
            <select [(ngModel)]="securitySettings.sessionTimeout" class="form-select">
              <option value="15">15 minutes</option>
              <option value="30">30 minutes</option>
              <option value="60">1 heure</option>
              <option value="120">2 heures</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Dernier changement de mot de passe</label>
            <input type="text" [value]="securitySettings.passwordLastChanged" class="form-input" readonly>
          </div>
        </div>
        <div class="form-actions">
          <button class="btn-secondary" (click)="changePassword()">ğŸ”’ Changer le mot de passe</button>
          <button class="btn-primary" (click)="saveSecurity()">ğŸ’¾ Sauvegarder</button>
        </div>
      </div>

      <!-- Appearance Section -->
      <div class="settings-section" *ngIf="activeSection === 'appearance'">
        <h2 class="section-title">Apparence et localisation</h2>
        <div class="form-grid">
          <div class="form-group">
            <label class="form-label">ThÃ¨me</label>
            <select [(ngModel)]="appearanceSettings.theme" class="form-select">
              <option value="light">Clair</option>
              <option value="dark">Sombre</option>
              <option value="auto">Automatique</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Langue</label>
            <select [(ngModel)]="appearanceSettings.language" class="form-select">
              <option value="fr">FranÃ§ais</option>
              <option value="en">English</option>
              <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Format de date</label>
            <select [(ngModel)]="appearanceSettings.dateFormat" class="form-select">
              <option value="DD/MM/YYYY">DD/MM/YYYY</option>
              <option value="MM/DD/YYYY">MM/DD/YYYY</option>
              <option value="YYYY-MM-DD">YYYY-MM-DD</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Devise</label>
            <select [(ngModel)]="appearanceSettings.currency" class="form-select">
              <option value="EUR">EUR (â‚¬)</option>
              <option value="USD">USD ($)</option>
              <option value="GBP">GBP (Â£)</option>
            </select>
          </div>
        </div>
        <div class="form-actions">
          <button class="btn-primary" (click)="saveAppearance()">ğŸ’¾ Sauvegarder</button>
        </div>
      </div>

      <!-- Integrations Section -->
      <div class="settings-section" *ngIf="activeSection === 'integrations'">
        <h2 class="section-title">IntÃ©grations</h2>
        <div class="integrations-grid">
          <div class="integration-card" *ngFor="let integration of integrations">
            <div class="integration-icon">{{ integration.icon }}</div>
            <h4 class="integration-name">{{ integration.name }}</h4>
            <span class="integration-status" [class.active]="integration.status === 'active'">
              {{ integration.status === 'active' ? 'Actif' : 'Inactif' }}
            </span>
            <button class="btn-integration" (click)="toggleIntegration(integration)">
              {{ integration.status === 'active' ? 'DÃ©sactiver' : 'Activer' }}
            </button>
          </div>
        </div>
      </div>

      <!-- API Section -->
      <div class="settings-section" *ngIf="activeSection === 'api'">
        <h2 class="section-title">ClÃ©s API</h2>
        <button class="btn-primary mb-3" (click)="generateApiKey()">â• GÃ©nÃ©rer nouvelle clÃ©</button>
        <div class="api-keys-list">
          <div class="api-key-card" *ngFor="let key of apiKeys">
            <div class="api-key-info">
              <h4>{{ key.name }}</h4>
              <code class="api-key-value">{{ key.key }}</code>
              <div class="api-key-meta">
                <span>CrÃ©Ã©e le: {{ key.created }}</span>
                <span>DerniÃ¨re utilisation: {{ key.lastUsed }}</span>
              </div>
            </div>
            <button class="btn-danger-outline" (click)="revokeApiKey(key)">RÃ©voquer</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Danger Zone -->
  <div class="danger-zone">
    <h3>âš ï¸ Zone dangereuse</h3>
    <div class="danger-actions">
      <button class="btn-danger-outline" (click)="exportData()">ğŸ“¥ Exporter toutes les donnÃ©es</button>
      <button class="btn-danger" (click)="deleteAccount()">ğŸ—‘ï¸ Supprimer le compte</button>
    </div>
  </div>
</div>
