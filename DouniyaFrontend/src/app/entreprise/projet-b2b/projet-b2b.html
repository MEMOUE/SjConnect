<div class="min-h-screen bg-slate-50">

  <!-- ‚îÄ‚îÄ‚îÄ Header ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="bg-white border-b border-slate-200 px-6 py-4">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 bg-blue-600 rounded-lg flex items-center justify-center">
          <i class="pi pi-briefcase text-white text-sm"></i>
        </div>
        <div>
          <h1 class="text-lg font-semibold text-slate-800">Espace B2B</h1>
          <p class="text-xs text-slate-500">Collaboration inter-entreprises</p>
        </div>
      </div>
      <button (click)="showCreateModal = true"
              class="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2 rounded-lg transition-colors">
        <i class="pi pi-plus text-xs"></i>
        Nouveau projet
      </button>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ Stats Bar ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="bg-white border-b border-slate-200 px-6 py-3">
    <div class="flex items-center gap-8">
      <div class="flex items-center gap-2">
        <i class="pi pi-chart-bar text-blue-500 text-sm"></i>
        <span class="text-sm text-slate-600">Actifs&nbsp;<strong class="text-slate-800">{{ stats.activeProjects }}</strong></span>
      </div>
      <div class="flex items-center gap-2">
        <i class="pi pi-users text-green-500 text-sm"></i>
        <span class="text-sm text-slate-600">Partenaires&nbsp;<strong class="text-slate-800">{{ stats.totalPartners }}</strong></span>
      </div>
      <div class="flex items-center gap-2">
        <i class="pi pi-percentage text-purple-500 text-sm"></i>
        <span class="text-sm text-slate-600">Compl√©tion&nbsp;<strong class="text-slate-800">{{ stats.completionRate }}%</strong></span>
      </div>
      <div class="flex items-center gap-2">
        <i class="pi pi-wallet text-amber-500 text-sm"></i>
        <span class="text-sm text-slate-600">Budget&nbsp;<strong class="text-slate-800">{{ (stats.totalBudget / 1000000).toFixed(1) }}M‚Ç¨</strong></span>
      </div>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ Body ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="flex h-[calc(100vh-120px)]">

    <!-- Sidebar -->
    <aside class="w-72 flex-shrink-0 bg-white border-r border-slate-200 flex flex-col">

      <!-- Search & Filter -->
      <div class="p-4 border-b border-slate-100 space-y-2">
        <div class="relative">
          <i class="pi pi-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs"></i>
          <input type="text" [(ngModel)]="searchTerm" (ngModelChange)="onSearchChange()"
                 placeholder="Rechercher..."
                 class="w-full pl-8 pr-3 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-slate-50">
        </div>
        <select [(ngModel)]="filterStatus" (ngModelChange)="onFilterChange()"
                class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-slate-50 text-slate-600">
          <option value="all">Tous les statuts</option>
          <option value="active">Actifs</option>
          <option value="pending">En attente</option>
          <option value="completed">Termin√©s</option>
          <option value="archived">Archiv√©s</option>
        </select>
      </div>

      <!-- Loading -->
      <div *ngIf="loading" class="flex-1 flex items-center justify-center">
        <i class="pi pi-spin pi-spinner text-blue-500 text-2xl"></i>
      </div>

      <!-- Project List -->
      <div *ngIf="!loading" class="flex-1 overflow-y-auto">

        <div *ngFor="let project of getFilteredProjects()"
             (click)="selectProject(project)"
             class="p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors"
             [class.bg-blue-50]="selectedProject?.id === project.id"
             [class.border-l-2]="selectedProject?.id === project.id"
             [class.border-l-blue-500]="selectedProject?.id === project.id">

          <div class="flex items-start gap-3">
            <span class="text-xl mt-0.5">{{ project.icon }}</span>
            <div class="flex-1 min-w-0">
              <div class="flex items-center justify-between gap-1 mb-1">
                <h3 class="text-sm font-semibold text-slate-800 truncate">{{ project.name }}</h3>
                <span [class]="getStatusBadge(project.status)" class="flex-shrink-0 text-xs px-2 py-0.5 rounded-full font-medium">
                  {{ getStatusLabel(project.status) }}
                </span>
              </div>
              <p class="text-xs text-slate-500 mb-2 line-clamp-1">{{ project.description }}</p>

              <!-- Mini progress bar -->
              <div class="flex items-center gap-2">
                <div class="flex-1 h-1.5 bg-slate-200 rounded-full overflow-hidden">
                  <div [style.width.%]="project.progress"
                       class="h-full rounded-full transition-all"
                       [ngClass]="{
                      'bg-green-500': project.progress >= 75,
                      'bg-blue-500': project.progress >= 50 && project.progress < 75,
                      'bg-amber-500': project.progress >= 25 && project.progress < 50,
                      'bg-red-400': project.progress < 25
                    }"></div>
                </div>
                <span class="text-xs text-slate-500 w-7 text-right">{{ project.progress }}%</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Empty state -->
        <div *ngIf="getFilteredProjects().length === 0" class="flex flex-col items-center justify-center py-12 px-4 text-center">
          <i class="pi pi-inbox text-slate-300 text-4xl mb-3"></i>
          <p class="text-sm text-slate-500 mb-3">Aucun projet trouv√©</p>
          <button (click)="showCreateModal = true"
                  class="text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1">
            <i class="pi pi-plus text-xs"></i> Cr√©er un projet
          </button>
        </div>
      </div>
    </aside>

    <!-- Main Panel -->
    <main class="flex-1 overflow-y-auto p-6">

      <!-- Empty selection -->
      <div *ngIf="!selectedProject" class="h-full flex flex-col items-center justify-center text-center">
        <div class="w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mb-4">
          <i class="pi pi-arrow-left text-slate-400 text-2xl"></i>
        </div>
        <h3 class="text-lg font-semibold text-slate-700 mb-1">S√©lectionnez un projet</h3>
        <p class="text-sm text-slate-500">Choisissez un projet dans la liste pour afficher les d√©tails</p>
      </div>

      <!-- Project Detail -->
      <div *ngIf="selectedProject" class="space-y-5">

        <!-- Header card -->
        <div class="bg-white rounded-xl border border-slate-200 p-6">
          <div class="flex items-start justify-between gap-4">
            <div class="flex items-start gap-4">
              <span class="text-4xl">{{ selectedProject.icon }}</span>
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <h2 class="text-xl font-bold text-slate-800">{{ selectedProject.name }}</h2>
                  <span [class]="getStatusBadge(selectedProject.status)" class="text-xs px-2.5 py-1 rounded-full font-medium">
                    {{ getStatusLabel(selectedProject.status) }}
                  </span>
                </div>
                <p class="text-sm text-slate-500 mb-3">{{ selectedProject.description }}</p>
                <div class="flex items-center gap-4 text-xs text-slate-500">
                  <span class="flex items-center gap-1">
                    <i class="pi pi-calendar"></i> {{ selectedProject.startDate || '‚Äî' }}
                  </span>
                  <span class="flex items-center gap-1">
                    <i class="pi pi-flag"></i> {{ selectedProject.endDate || '‚Äî' }}
                  </span>
                  <span class="flex items-center gap-1">
                    <i class="pi pi-euro"></i> {{ (selectedProject.budget / 1000).toFixed(0) }}K
                  </span>
                  <span [class]="getPriorityBadge(selectedProject.priority)" class="px-2 py-0.5 rounded-full font-medium">
                    <i class="pi pi-bolt mr-1"></i>{{ getPriorityLabel(selectedProject.priority) }}
                  </span>
                </div>
              </div>
            </div>

            <div class="flex items-center gap-2">
              <button (click)="editProject(selectedProject)"
                      class="p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">
                <i class="pi pi-pencil text-sm"></i>
              </button>
              <button (click)="confirmDeleteProject(selectedProject)"
                      class="p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors">
                <i class="pi pi-trash text-sm"></i>
              </button>
            </div>
          </div>

          <!-- Progress & Status controls -->
          <div class="mt-5 pt-5 border-t border-slate-100 grid grid-cols-1 md:grid-cols-2 gap-5">

            <!-- Progress -->
            <div>
              <div class="flex items-center justify-between mb-2">
                <label class="text-sm font-medium text-slate-700">
                  <i class="pi pi-chart-line mr-1 text-blue-500"></i> Progression
                </label>
                <span class="text-sm font-bold text-blue-600">{{ progressValue }}%</span>
              </div>
              <div class="flex items-center gap-3">
                <input type="range" [(ngModel)]="progressValue" min="0" max="100"
                       class="flex-1 accent-blue-600 cursor-pointer">
                <button (click)="updateProgress()"
                        class="flex items-center gap-1 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium px-3 py-1.5 rounded-lg transition-colors">
                  <i class="pi pi-save text-xs"></i> Sauver
                </button>
              </div>
            </div>

            <!-- Status -->
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-2">
                <i class="pi pi-sync mr-1 text-purple-500"></i> Changer le statut
              </label>
              <div class="flex flex-wrap gap-2">
                <button *ngFor="let s of statusOptions"
                        (click)="changeStatus(s.value)"
                        [class]="s.cls + ' text-xs font-medium px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1'">
                  <i [class]="s.icon + ' text-xs'"></i>{{ s.label }}
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Partners -->
        <div class="bg-white rounded-xl border border-slate-200 p-5">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-sm font-semibold text-slate-700 flex items-center gap-2">
              <i class="pi pi-building text-blue-500"></i>
              Partenaires <span class="text-slate-400 font-normal">({{ selectedProject.partners.length }})</span>
            </h3>
          </div>
          <div class="flex flex-wrap gap-3">
            <div *ngFor="let p of selectedProject.partners"
                 class="flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-lg px-3 py-2">
              <span class="text-xl">{{ p.logo }}</span>
              <div>
                <p class="text-sm font-semibold text-slate-700">{{ p.name }}</p>
                <p class="text-xs text-slate-500">{{ p.role }}</p>
              </div>
            </div>
            <div *ngIf="selectedProject.partners.length === 0"
                 class="text-sm text-slate-400 flex items-center gap-2 py-2">
              <i class="pi pi-info-circle"></i> Aucun partenaire
            </div>
          </div>
        </div>

        <!-- Tabs -->
        <div class="bg-white rounded-xl border border-slate-200 overflow-hidden">
          <div class="flex border-b border-slate-100">
            <button *ngFor="let tab of tabs"
                    (click)="activeTab = tab.key"
                    [class.text-blue-600]="activeTab === tab.key"
                    [class.border-blue-500]="activeTab === tab.key"
                    [class.border-transparent]="activeTab !== tab.key"
                    class="flex items-center gap-2 px-5 py-3 text-sm font-medium text-slate-500 hover:text-slate-700 border-b-2 transition-colors">
              <i [class]="tab.icon + ' text-xs'"></i>
              {{ tab.label }}
            </button>
          </div>

          <div class="p-5">

            <!-- Documents -->
            <div *ngIf="activeTab === 'documents'">
              <div class="flex items-center justify-between mb-4">
                <span class="text-sm font-medium text-slate-600">Documents partag√©s</span>
                <button (click)="addNewDocument()"
                        class="flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 font-medium">
                  <i class="pi pi-upload text-xs"></i> Upload
                </button>
              </div>
              <div *ngIf="getProjectDocuments(selectedProject.id).length === 0"
                   class="text-center py-8 text-slate-400">
                <i class="pi pi-file text-3xl mb-2 block"></i>
                <p class="text-sm">Aucun document</p>
              </div>
              <div *ngFor="let doc of getProjectDocuments(selectedProject.id)"
                   class="flex items-center gap-3 p-3 rounded-lg hover:bg-slate-50 border border-slate-100 mb-2">
                <i [class]="doc.icon + ' text-blue-500'"></i>
                <div class="flex-1">
                  <p class="text-sm font-medium text-slate-700">{{ doc.name }}</p>
                  <p class="text-xs text-slate-400">{{ doc.size }} ¬∑ {{ doc.uploadedBy }}</p>
                </div>
                <button (click)="downloadDocument(doc)"
                        class="p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">
                  <i class="pi pi-download text-xs"></i>
                </button>
              </div>
            </div>

            <!-- Tasks -->
            <div *ngIf="activeTab === 'tasks'">
              <div class="flex items-center justify-between mb-4">
                <span class="text-sm font-medium text-slate-600">T√¢ches du projet</span>
                <button (click)="addNewTask()"
                        class="flex items-center gap-1 text-xs text-green-600 hover:text-green-700 font-medium">
                  <i class="pi pi-plus text-xs"></i> Nouvelle t√¢che
                </button>
              </div>
              <div *ngIf="getProjectTasks(selectedProject.id).length === 0"
                   class="text-center py-8 text-slate-400">
                <i class="pi pi-check-circle text-3xl mb-2 block"></i>
                <p class="text-sm">Aucune t√¢che</p>
              </div>
              <div *ngFor="let task of getProjectTasks(selectedProject.id)"
                   class="p-3 rounded-lg border border-slate-100 mb-2 hover:border-slate-200">
                <div class="flex items-start justify-between gap-2 mb-1">
                  <p class="text-sm font-semibold text-slate-700">{{ task.title }}</p>
                  <div class="flex gap-1">
                    <span [class]="getStatusBadge(task.status)" class="text-xs px-2 py-0.5 rounded-full font-medium">
                      {{ getStatusLabel(task.status) }}
                    </span>
                  </div>
                </div>
                <p class="text-xs text-slate-500 mb-2">{{ task.description }}</p>
                <div class="flex items-center gap-4 text-xs text-slate-400">
                  <span class="flex items-center gap-1"><i class="pi pi-user"></i> {{ task.assignedTo }}</span>
                  <span class="flex items-center gap-1"><i class="pi pi-calendar"></i> {{ task.dueDate }}</span>
                </div>
              </div>
            </div>

            <!-- Messages -->
            <div *ngIf="activeTab === 'messages'">
              <!-- Message input -->
              <div class="mb-4 flex gap-2">
                <input type="text" [(ngModel)]="newMessage" (keydown.enter)="sendMessage()"
                       placeholder="√âcrire un message‚Ä¶"
                       class="flex-1 px-4 py-2.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                <button (click)="sendMessage()" [disabled]="!newMessage.trim()"
                        class="flex items-center gap-1.5 bg-purple-600 hover:bg-purple-700 disabled:bg-slate-300 text-white text-sm font-medium px-4 py-2.5 rounded-lg transition-colors">
                  <i class="pi pi-send text-xs"></i> Envoyer
                </button>
              </div>

              <!-- Messages list -->
              <div *ngIf="getProjectMessages(selectedProject.id).length === 0"
                   class="text-center py-8 text-slate-400">
                <i class="pi pi-comments text-3xl mb-2 block"></i>
                <p class="text-sm">Aucun message</p>
              </div>
              <div *ngFor="let msg of getProjectMessages(selectedProject.id)"
                   class="flex items-start gap-3 mb-3">
                <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0">
                  <i class="pi pi-user text-purple-600 text-xs"></i>
                </div>
                <div class="flex-1 bg-slate-50 rounded-lg px-4 py-3">
                  <div class="flex items-center justify-between mb-1">
                    <span class="text-xs font-semibold text-slate-700">{{ msg.sender }}</span>
                    <span class="text-xs text-slate-400">{{ msg.timestamp }}</span>
                  </div>
                  <p class="text-sm text-slate-600">{{ msg.content }}</p>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </main>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ Modal Cr√©ation / √âdition ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<div *ngIf="showCreateModal"
     class="fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4">
  <div class="bg-white rounded-2xl shadow-2xl w-full max-w-xl max-h-[90vh] overflow-y-auto">

    <!-- Modal Header -->
    <div class="flex items-center justify-between p-5 border-b border-slate-100">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 bg-blue-100 rounded-lg flex items-center justify-center">
          <i class="pi pi-briefcase text-blue-600 text-sm"></i>
        </div>
        <h2 class="text-lg font-bold text-slate-800">
          {{ editingProject ? 'Modifier le projet' : 'Nouveau projet B2B' }}
        </h2>
      </div>
      <button (click)="closeModal()"
              class="p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors">
        <i class="pi pi-times text-sm"></i>
      </button>
    </div>

    <!-- Modal Body -->
    <form (ngSubmit)="saveProject()" class="p-5 space-y-4">

      <!-- Nom + Ic√¥ne -->
      <div class="grid grid-cols-4 gap-3">
        <div class="col-span-3">
          <label class="block text-xs font-semibold text-slate-600 mb-1.5 uppercase tracking-wide">
            <i class="pi pi-tag mr-1 text-slate-400"></i>Nom du projet *
          </label>
          <input type="text" [(ngModel)]="projectForm.nom" name="nom" required
                 placeholder="Ex : Plateforme fintech collaborative"
                 class="w-full px-3 py-2.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div>
          <label class="block text-xs font-semibold text-slate-600 mb-1.5 uppercase tracking-wide">Ic√¥ne</label>
          <input type="text" [(ngModel)]="projectForm.icone" name="icone" maxlength="2"
                 class="w-full px-3 py-2.5 text-center text-xl border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      </div>

      <!-- Description -->
      <div>
        <label class="block text-xs font-semibold text-slate-600 mb-1.5 uppercase tracking-wide">
          <i class="pi pi-align-left mr-1 text-slate-400"></i>Description
        </label>
        <textarea [(ngModel)]="projectForm.description" name="description" rows="2"
                  placeholder="D√©crivez l'objectif du projet‚Ä¶"
                  class="w-full px-3 py-2.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"></textarea>
      </div>

      <!-- Cat√©gorie + Priorit√© -->
      <div class="grid grid-cols-2 gap-3">
        <div>
          <label class="block text-xs font-semibold text-slate-600 mb-1.5 uppercase tracking-wide">
            <i class="pi pi-folder mr-1 text-slate-400"></i>Cat√©gorie *
          </label>
          <input type="text" [(ngModel)]="projectForm.categorie" name="categorie" required
                 placeholder="Ex : Technologie"
                 class="w-full px-3 py-2.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div>
          <label class="block text-xs font-semibold text-slate-600 mb-1.5 uppercase tracking-wide">
            <i class="pi pi-bolt mr-1 text-slate-400"></i>Priorit√© *
          </label>
          <select [(ngModel)]="projectForm.priorite" name="priorite"
                  class="w-full px-3 py-2.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white">
            <option value="BASSE">Basse</option>
            <option value="MOYENNE">Moyenne</option>
            <option value="HAUTE">Haute</option>
            <option value="CRITIQUE">Critique</option>
          </select>
        </div>
      </div>

      <!-- Dates -->
      <div class="grid grid-cols-2 gap-3">
        <div>
          <label class="block text-xs font-semibold text-slate-600 mb-1.5 uppercase tracking-wide">
            <i class="pi pi-calendar mr-1 text-slate-400"></i>Date de d√©but
          </label>
          <input type="date" [(ngModel)]="projectForm.dateDebut" name="dateDebut"
                 class="w-full px-3 py-2.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div>
          <label class="block text-xs font-semibold text-slate-600 mb-1.5 uppercase tracking-wide">
            <i class="pi pi-flag mr-1 text-slate-400"></i>Date de fin
          </label>
          <input type="date" [(ngModel)]="projectForm.dateFin" name="dateFin"
                 class="w-full px-3 py-2.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      </div>

      <!-- Budget -->
      <div>
        <label class="block text-xs font-semibold text-slate-600 mb-1.5 uppercase tracking-wide">
          <i class="pi pi-euro mr-1 text-slate-400"></i>Budget (‚Ç¨)
        </label>
        <input type="number" [(ngModel)]="projectForm.budget" name="budget" min="0"
               placeholder="100 000"
               class="w-full px-3 py-2.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <!-- Partenaires -->
      <div>
        <label class="block text-xs font-semibold text-slate-600 mb-1.5 uppercase tracking-wide">
          <i class="pi pi-building mr-1 text-slate-400"></i>Partenaires
        </label>
        <div class="space-y-2">
          <div *ngFor="let p of projectForm.partenaires; let i = index"
               class="flex gap-2 items-center bg-slate-50 rounded-lg p-2 border border-slate-100">
            <input type="text" [(ngModel)]="p.nom" [name]="'pn'+i" placeholder="Nom"
                   class="flex-1 px-2 py-1.5 text-xs border border-slate-200 rounded focus:outline-none focus:ring-1 focus:ring-blue-500">
            <input type="text" [(ngModel)]="p.role" [name]="'pr'+i" placeholder="R√¥le"
                   class="flex-1 px-2 py-1.5 text-xs border border-slate-200 rounded focus:outline-none focus:ring-1 focus:ring-blue-500">
            <input type="text" [(ngModel)]="p.logo" [name]="'pl'+i" maxlength="2" placeholder="üè¢"
                   class="w-10 px-1 py-1.5 text-center border border-slate-200 rounded focus:outline-none">
            <button type="button" (click)="removePartner(i)"
                    class="p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors">
              <i class="pi pi-times text-xs"></i>
            </button>
          </div>
          <button type="button" (click)="addPartnerToForm()"
                  class="w-full py-2 text-xs text-slate-500 hover:text-blue-600 border border-dashed border-slate-300 hover:border-blue-400 rounded-lg transition-colors flex items-center justify-center gap-1">
            <i class="pi pi-plus text-xs"></i> Ajouter un partenaire
          </button>
        </div>
      </div>

      <!-- Footer -->
      <div class="flex justify-end gap-2 pt-2 border-t border-slate-100">
        <button type="button" (click)="closeModal()"
                class="px-4 py-2.5 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg transition-colors">
          Annuler
        </button>
        <button type="submit" [disabled]="!projectForm.nom || !projectForm.categorie"
                class="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 text-white text-sm font-medium px-5 py-2.5 rounded-lg transition-colors">
          <i class="pi pi-check text-xs"></i>
          {{ editingProject ? 'Enregistrer' : 'Cr√©er le projet' }}
        </button>
      </div>
    </form>
  </div>
</div>
