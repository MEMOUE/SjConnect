<div class="espace-b2b-container">
  <div class="header">
    <div class="header-content">
      <h1>ğŸ¤ Espace B2B</h1>
      <p class="subtitle">Gestion des relations partenaires et clients professionnels</p>
    </div>
    <div class="header-actions">
      <button class="btn-secondary" (click)="exportData()">ğŸ“¥ Exporter</button>
      <button class="btn-primary" (click)="addNewPartner()">â• Nouveau partenaire</button>
    </div>
  </div>

  <!-- Stats Cards -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon blue">ğŸ‘¥</div>
      <div class="stat-content">
        <p class="stat-label">Total partenaires</p>
        <h3 class="stat-value">{{ stats.totalPartners }}</h3>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon green">âœ“</div>
      <div class="stat-content">
        <p class="stat-label">Partenaires actifs</p>
        <h3 class="stat-value">{{ stats.activePartners }}</h3>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon purple">ğŸ’°</div>
      <div class="stat-content">
        <p class="stat-label">Valeur totale contrats</p>
        <h3 class="stat-value">{{ stats.totalRevenue.toLocaleString('fr-FR') }} â‚¬</h3>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon orange">ğŸ“Š</div>
      <div class="stat-content">
        <p class="stat-label">CA mensuel moyen</p>
        <h3 class="stat-value">{{ stats.monthlyRevenue.toLocaleString('fr-FR') }} â‚¬</h3>
      </div>
    </div>
  </div>

  <!-- Tabs Navigation -->
  <div class="tabs-container">
    <div class="tabs-nav">
      <button
        class="tab-btn"
        [class.active]="activeTab === 'partners'"
        (click)="setActiveTab('partners')">
        ğŸ‘¥ Partenaires
      </button>
      <button
        class="tab-btn"
        [class.active]="activeTab === 'transactions'"
        (click)="setActiveTab('transactions')">
        ğŸ’³ Transactions
      </button>
      <button
        class="tab-btn"
        [class.active]="activeTab === 'contracts'"
        (click)="setActiveTab('contracts')">
        ğŸ“‹ Contrats
      </button>
    </div>

    <!-- Partners Tab -->
    <div class="tab-content" *ngIf="activeTab === 'partners'">
      <div class="filters-bar">
        <div class="search-box">
          <span class="search-icon">ğŸ”</span>
          <input
            type="text"
            [(ngModel)]="searchTerm"
            placeholder="Rechercher un partenaire..."
            class="search-input">
        </div>
        <select [(ngModel)]="filterStatus" class="filter-select">
          <option value="all">Tous les statuts</option>
          <option value="active">Actif</option>
          <option value="pending">En attente</option>
          <option value="inactive">Inactif</option>
        </select>
      </div>

      <div class="partners-grid">
        <div class="partner-card" *ngFor="let partner of getFilteredPartners()">
          <div class="partner-header">
            <div class="partner-logo">{{ partner.logo }}</div>
            <span class="partner-badge" [ngClass]="getStatusClass(partner.status)">
              {{ getStatusLabel(partner.status) }}
            </span>
          </div>
          <h3 class="partner-name">{{ partner.name }}</h3>
          <p class="partner-type">{{ partner.type }}</p>
          <div class="partner-info">
            <div class="info-item">
              <span class="info-label">Valeur contrat</span>
              <span class="info-value">{{ partner.contractValue.toLocaleString('fr-FR') }} â‚¬</span>
            </div>
            <div class="info-item">
              <span class="info-label">DÃ©but</span>
              <span class="info-value">{{ partner.startDate }}</span>
            </div>
          </div>
          <div class="partner-actions">
            <button class="action-btn" (click)="viewPartner(partner)">ğŸ‘ï¸ Voir</button>
            <button class="action-btn" (click)="editPartner(partner)">âœï¸ Ã‰diter</button>
          </div>
        </div>
      </div>

      <div class="empty-state" *ngIf="getFilteredPartners().length === 0">
        <span class="empty-icon">ğŸ”</span>
        <p>Aucun partenaire trouvÃ©</p>
      </div>
    </div>

    <!-- Transactions Tab -->
    <div class="tab-content" *ngIf="activeTab === 'transactions'">
      <div class="table-container">
        <table class="data-table">
          <thead>
          <tr>
            <th>ID</th>
            <th>Partenaire</th>
            <th>Type</th>
            <th>Montant</th>
            <th>Date</th>
            <th>Statut</th>
            <th>Actions</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let transaction of transactions">
            <td class="td-id">{{ transaction.id }}</td>
            <td class="td-partner">{{ transaction.partner }}</td>
            <td>
              <span class="type-badge">{{ transaction.type }}</span>
            </td>
            <td class="td-amount">{{ transaction.amount.toLocaleString('fr-FR') }} â‚¬</td>
            <td>{{ transaction.date }}</td>
            <td>
                <span class="status-badge" [ngClass]="getStatusClass(transaction.status)">
                  {{ getStatusLabel(transaction.status) }}
                </span>
            </td>
            <td>
              <button class="btn-icon" (click)="viewTransaction(transaction)">ğŸ‘ï¸</button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Contracts Tab -->
    <div class="tab-content" *ngIf="activeTab === 'contracts'">
      <div class="contracts-list">
        <div class="contract-card" *ngFor="let contract of contracts">
          <div class="contract-header">
            <div>
              <h3 class="contract-title">{{ contract.title }}</h3>
              <p class="contract-partner">{{ contract.partner }}</p>
            </div>
            <span class="status-badge" [ngClass]="getStatusClass(contract.status)">
              {{ getStatusLabel(contract.status) }}
            </span>
          </div>
          <div class="contract-details">
            <div class="detail-item">
              <span class="detail-label">ğŸ’° Valeur</span>
              <span class="detail-value">{{ contract.value.toLocaleString('fr-FR') }} â‚¬</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ğŸ“… DÃ©but</span>
              <span class="detail-value">{{ contract.startDate }}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ğŸ“… Fin</span>
              <span class="detail-value">{{ contract.endDate }}</span>
            </div>
          </div>
          <div class="contract-actions">
            <button class="btn-outline" (click)="viewContract(contract)">Voir dÃ©tails</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
